"use strict";(self.webpackChunkaap_felles_frontend=self.webpackChunkaap_felles_frontend||[]).push([[345],{"./packages/aap-felles-react/src/Form/comboboxwrapper/Combobox.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Combobox_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),esm=__webpack_require__("./node_modules/@navikt/ds-react/esm/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs");var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const TextFieldWrapper=param=>{let{name,label,control,type,description,rules,readOnly}=param;return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{name,value,onChange},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.A_,{id:name,name,size:"small",label,type,error:null==error?void 0:error.message,value:value||"",onChange,description,readOnly})}})};TextFieldWrapper.__docgenInfo={description:"",methods:[],displayName:"TextFieldWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},label:{required:!1,tsType:{name:"string"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},type:{required:!0,tsType:{name:"union",raw:"'text' | 'number'",elements:[{name:"literal",value:"'text'"},{name:"literal",value:"'number'"}]},description:""},description:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const TextAreaWrapper=param=>{let{name,description,label,control,maxLength,rules,readOnly}=param;return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{name,value,onChange},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.TM,{id:name,label,size:"small",description,value,onChange,error:null==error?void 0:error.message,name,maxLength,readOnly})}})};TextAreaWrapper.__docgenInfo={description:"",methods:[],displayName:"TextAreaWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},description:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},maxLength:{required:!1,tsType:{name:"number"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};var subYears=__webpack_require__("./node_modules/date-fns/subYears.mjs"),addYears=__webpack_require__("./node_modules/date-fns/addYears.mjs");const FRA_DATO=(0,subYears.d)(new Date,80),TIL_DATO=(0,addYears.e)(new Date,80),DateWrapper=param=>{let{name,label,description,control,rules,disableWeekend=!1,fromDate=FRA_DATO,toDate=TIL_DATO,selected,readOnly}=param;const{datepickerProps,inputProps}=(0,esm.IU)({defaultSelected:selected});return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{name,value,onChange},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.lr,{id:name,onChange,onSelect:onChange,...datepickerProps,disableWeekends:disableWeekend,dropdownCaption:!0,fromDate,toDate,children:(0,jsx_runtime.jsx)(esm.lr.Input,{onChange,onInput:onChange,size:"small",value,name,description,error:error&&error.message,label,readOnly,...inputProps})})}})};DateWrapper.__docgenInfo={description:"",methods:[],displayName:"DateWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},label:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},disableWeekend:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},fromDate:{required:!1,tsType:{name:"Date"},description:"",defaultValue:{value:"subYears(new Date(), 80)",computed:!0}},toDate:{required:!1,tsType:{name:"Date"},description:"",defaultValue:{value:"addYears(new Date(), 80)",computed:!0}},selected:{required:!1,tsType:{name:"Date"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const SelectWrapper=param=>{let{name,label,control,rules,description,children,readOnly}=param;return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{name,value,onChange},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.l6,{id:name,name,size:"small",label,description,value,onChange,error:null==error?void 0:error.message,readOnly,children})}})};SelectWrapper.__docgenInfo={description:"",methods:[],displayName:"SelectWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},label:{required:!1,tsType:{name:"string"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const CheckboxWrapper=param=>{let{name,label,control,rules,children,description,readOnly}=param;return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{onChange,value},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.$Q,{size:"small",id:name,name,legend:label,description,error:null==error?void 0:error.message,value:value||[],onChange,readOnly,children})}})};CheckboxWrapper.__docgenInfo={description:"",methods:[],displayName:"CheckboxWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},label:{required:!1,tsType:{name:"string"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const RadioGroupWrapper=param=>{let{children,name,control,rules,description,label,horisontal=!1,readOnly}=param;return(0,jsx_runtime.jsx)("div",{className:"radiowrapper_radiogroup",children:(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{onChange,value},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.z6,{id:name,size:"small",value:value||"",name,legend:label,error:null==error?void 0:error.message,onChange,description,className:horisontal?"radiowrapper_horizontal":"",readOnly,children})}})})};RadioGroupWrapper.__docgenInfo={description:"",methods:[],displayName:"RadioGroupWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},horisontal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const ComboboxWrapper=param=>{let{name,label,control,rules,description,readOnly,options}=param;const[searchValue,setSearchValue]=(0,react.useState)("");return(0,jsx_runtime.jsx)(index_esm.xI,{name,control,rules,render:param=>{let{field:{onChange,value},fieldState:{error}}=param;return(0,jsx_runtime.jsx)(esm.b4,{isMultiSelect:!1,shouldAutocomplete:!1,size:"small",id:name,name,label,description,error:null==error?void 0:error.message,options,value:searchValue,onChange:setSearchValue,onToggleSelected:onChange,selectedOptions:[null!=value?value:""],readOnly})}})};ComboboxWrapper.__docgenInfo={description:"",methods:[],displayName:"ComboboxWrapper",props:{name:{required:!0,tsType:{name:"FieldPath",elements:[{name:"FormFieldValues"}],raw:"FieldPath<FormFieldValues>"},description:""},label:{required:!1,tsType:{name:"string"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"FormFieldValues"}],raw:"Control<FormFieldValues>"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"FormFieldValues"}],raw:"RegisterOptions<FormFieldValues>"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},options:{required:!0,tsType:{name:"union",raw:"string[] | ValuePair[]",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Array",elements:[{name:"ValuePair"}],raw:"ValuePair[]"}]},description:""}}};const FormField=props=>{const{formField,form,children,horizontalRadio}=props;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[("text"===formField.type||"number"===formField.type)&&(0,jsx_runtime.jsx)(TextFieldWrapper,{name:formField.name,label:formField.label,type:formField.type,control:form.control,rules:formField.rules,description:formField.description,readOnly:formField.readOnly}),"textarea"===formField.type&&(0,jsx_runtime.jsx)(TextAreaWrapper,{name:formField.name,label:formField.label,control:form.control,rules:formField.rules,description:formField.description,readOnly:formField.readOnly}),"radio"===formField.type&&(0,jsx_runtime.jsx)(RadioGroupWrapper,{name:formField.name,control:form.control,label:formField.label,description:formField.description,rules:formField.rules,horisontal:horizontalRadio,readOnly:formField.readOnly,children:formField.options.map(mapToValuePair).map((option=>(0,jsx_runtime.jsx)(esm.sx,{value:option.value,children:option.label},option.value)))}),"date"===formField.type&&(0,jsx_runtime.jsx)(DateWrapper,{name:formField.name,label:formField.label,control:form.control,rules:formField.rules,description:formField.description,fromDate:formField.fromDate,toDate:formField.toDate,disableWeekend:formField.disableWeekends,selected:form.getValues(formField.name),readOnly:formField.readOnly}),"checkbox"===formField.type&&(0,jsx_runtime.jsx)(CheckboxWrapper,{name:formField.name,label:formField.label,control:form.control,rules:formField.rules,description:formField.description,readOnly:formField.readOnly,children:formField.options.map(mapToValuePair).map((option=>(0,jsx_runtime.jsx)(esm.Sc,{value:option.value,children:option.label},option.value)))}),"select"===formField.type&&(0,jsx_runtime.jsx)(SelectWrapper,{name:formField.name,label:formField.label,description:formField.description,control:form.control,rules:formField.rules,readOnly:formField.readOnly,children:formField.options.map(mapToValuePair).map((option=>(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value)))}),"checkbox_nested"===formField.type&&(0,jsx_runtime.jsx)(CheckboxWrapper,{name:formField.name,label:formField.label,description:formField.description,control:form.control,rules:formField.rules,readOnly:formField.readOnly,children}),"radio_nested"===formField.type&&(0,jsx_runtime.jsx)(RadioGroupWrapper,{name:formField.name,label:formField.label,description:formField.description,control:form.control,rules:formField.rules,readOnly:formField.readOnly,children}),"combobox"===formField.type&&(0,jsx_runtime.jsx)(ComboboxWrapper,{name:formField.name,label:formField.label,control:form.control,rules:formField.rules,description:formField.description,readOnly:formField.readOnly,options:formField.options})]})};function mapToValuePair(option){return"string"==typeof option?{label:option,value:option}:option}FormField.__docgenInfo={description:"",methods:[],displayName:"FormField",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"FormFieldIds"}],raw:"UseFormReturn<FormFieldIds>"},description:""},formField:{required:!0,tsType:{name:"intersection",raw:"FormFieldConfig<FormFieldIds> &\nFormFieldName<FormFieldIds>",elements:[{name:"union",raw:"| FormFieldText<FormFieldIds>\n| FormFieldTextArea<FormFieldIds>\n| FormFieldDate<FormFieldIds>\n| FormFieldWithOptions<FormFieldIds>\n| FormFieldCheckbox<FormFieldIds>\n| FormFieldRadioWithNestedOptions<FormFieldIds>\n| FormFieldCheckboxWithNestedOptions<FormFieldIds>\n| FormFieldArray<keyof FormFieldIds, FormFieldIds>",elements:[{name:"FormFieldText",elements:[{name:"FormFieldIds"}],raw:"FormFieldText<FormFieldIds>"},{name:"FormFieldTextArea",elements:[{name:"FormFieldIds"}],raw:"FormFieldTextArea<FormFieldIds>"},{name:"FormFieldDate",elements:[{name:"FormFieldIds"}],raw:"FormFieldDate<FormFieldIds>"},{name:"FormFieldWithOptions",elements:[{name:"FormFieldIds"}],raw:"FormFieldWithOptions<FormFieldIds>"},{name:"FormFieldCheckbox",elements:[{name:"FormFieldIds"}],raw:"FormFieldCheckbox<FormFieldIds>"},{name:"FormFieldRadioWithNestedOptions",elements:[{name:"FormFieldIds"}],raw:"FormFieldRadioWithNestedOptions<FormFieldIds>"},{name:"FormFieldCheckboxWithNestedOptions",elements:[{name:"FormFieldIds"}],raw:"FormFieldCheckboxWithNestedOptions<FormFieldIds>"},{name:"FormFieldArray",elements:[{name:"FormFieldIds"},{name:"FormFieldIds"}],raw:"FormFieldArray<keyof FormFieldIds, FormFieldIds>"}]},{name:"FormFieldName",elements:[{name:"FormFieldIds"}],raw:"FormFieldName<FormFieldIds>"}]},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},horizontalRadio:{required:!1,tsType:{name:"boolean"},description:""}}};var _Primary_parameters,_Primary_parameters_docs,_Primary_parameters1,console=__webpack_require__("./node_modules/console-browserify/index.js");const Combobox_stories={title:"Combobox",component:ComboboxForm},Primary=(args=>(0,jsx_runtime.jsx)(ComboboxForm,{...args})).bind({});function ComboboxForm(props){const{formFields,form}=function useConfigForm(config,rfhConfig){const defaultValues={},formFields={};Object.entries(config).forEach((param=>{let[id,formFieldConfig]=param;"fieldArray"!==formFieldConfig.type&&(formFields[id]={...formFieldConfig,name:id,readOnly:null==rfhConfig?void 0:rfhConfig.readOnly}),formFieldConfig.defaultValue&&(defaultValues[id]=formFieldConfig.defaultValue)}));const form=(0,index_esm.mN)({...rfhConfig,defaultValues});return{formFields,form}}({type:{type:"combobox",label:"Velg type",description:"Velg en type",defaultValue:"Alternativ 3",options:["Alternativ 1","Alternativ 2","Alternativ 3"],rules:{required:"Du må velge type"}}});return(0,jsx_runtime.jsxs)("form",{onSubmit:form.handleSubmit((()=>console.log("submitting"))),children:[(0,jsx_runtime.jsx)(FormField,{form,formField:formFields.type}),(0,jsx_runtime.jsx)(esm.$n,{variant:"primary",children:"Send inn"})]})}Primary.args={children:(0,jsx_runtime.jsx)(esm.hC,{spacing:!0,children:"Dette er tekst som havner inne i Luca"})},Primary.parameters={...Primary.parameters,docs:{...null===(_Primary_parameters=Primary.parameters)||void 0===_Primary_parameters?void 0:_Primary_parameters.docs,source:{originalSource:"args => <ComboboxForm {...args} />",...null===(_Primary_parameters1=Primary.parameters)||void 0===_Primary_parameters1||null===(_Primary_parameters_docs=_Primary_parameters1.docs)||void 0===_Primary_parameters_docs?void 0:_Primary_parameters_docs.source}}};const __namedExportsOrder=["Primary"]}}]);